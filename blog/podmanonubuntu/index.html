<!doctype html><html lang=zh-Hans><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://blog.windeye.top name=base><title>æè¾¹å¤§å”çš„åšå®¢ â€¢ Ubuntu20.10ä¸‹å®‰è£…podman</title><link href=https://blog.windeye.top/img/seedling.png rel=icon type=image/png><link href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 55"><text y=".7em" font-size="82">ğŸ¦Š</text></svg>' rel=icon><link href=https://blog.windeye.top/atom.xml rel=alternate title=æè¾¹å¤§å”çš„åšå®¢ type=application/atom+xml><link href="https://blog.windeye.top/custom_subset.css?h=6de30382822eb2c02ee0" rel=stylesheet><link href="https://blog.windeye.top/main.css?h=03882d7b0d0cfe74b15f" rel=stylesheet><link href="https://blog.windeye.top/skins/zyw.css?h=4bbeae109422ff1bdcf0" rel=stylesheet><meta content="light dark" name=color-scheme><meta media="(prefers-color-scheme: light)" content=#ffffff name=theme-color><meta media="(prefers-color-scheme: dark)" content=#000000 name=theme-color><meta content=è®°å½•åœ¨Ubuntuä¸Šå®‰è£…podmançš„è¿‡ç¨‹ name=description><meta content=è®°å½•åœ¨Ubuntuä¸Šå®‰è£…podmançš„è¿‡ç¨‹ property=og:description><meta content="index, nofollow" name=robots><meta content=Ubuntu20.10ä¸‹å®‰è£…podman property=og:title><meta content=article property=og:type><meta content=zh_CN property=og:locale><meta content=https://blog.windeye.top/blog/podmanonubuntu/ property=og:url><meta content=æè¾¹å¤§å”çš„åšå®¢ property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self' https://giscus.app/default.css;frame-src player.vimeo.com https://www.youtube-nocookie.com giscus.app;connect-src 'self';script-src 'self'  giscus.app 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://blog.windeye.top/no_js.css rel=stylesheet></noscript><script src=https://blog.windeye.top/js/initializeTheme.min.js></script><script defer src=https://blog.windeye.top/js/themeSwitcher.min.js></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://blog.windeye.top>æè¾¹å¤§å”çš„åšå®¢</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://blog.windeye.top/blog/> åšå®¢ </a><li><a class="nav-links no-hover-padding" href=https://blog.windeye.top/archive/> å½’æ¡£ </a><li><a class="nav-links no-hover-padding" href=https://blog.windeye.top/tags/> æ ‡ç­¾ </a><li class="theme-switcher-wrapper js"><div aria-label=åˆ‡æ¢åˆ°æš—æ¨¡å¼ aria-pressed=false class=theme-switcher role=button tabindex=0 title=åˆ‡æ¢åˆ°æš—/äº®æ¨¡å¼></div><div aria-hidden=true aria-label=å°†æ¨¡å¼é‡ç½®ä¸ºç½‘ç«™é»˜è®¤å€¼ class=theme-resetter role=button tabindex=0 title=å°†æ¨¡å¼é‡ç½®ä¸ºç½‘ç«™é»˜è®¤å€¼></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Ubuntu20.10ä¸‹å®‰è£…podman</h1><ul class=meta><li>2021å¹´ 5æœˆ1æ—¥</li> â€¢ <li title="å…± 1089 å­—">è¯»å®Œçº¦éœ€ 6 åˆ†é’Ÿ</li> â€¢Â <li>æ ‡ç­¾:Â <li><a href=https://blog.windeye.top/tags/podman/>podman</a>,Â <li><a href=https://blog.windeye.top/tags/linux/>linux</a></ul><ul class="meta last-updated"><li>æœ€åæ›´æ–°äº 2021å¹´ 5æœˆ1æ—¥</ul><section class=body><h1 id=ubuntu20-10xia-shi-yong-podman><a aria-label="Anchor link for: ubuntu20-10xia-shi-yong-podman" class="header-anchor no-hover-padding" href=#ubuntu20-10xia-shi-yong-podman><span aria-hidden=true class=link-icon></span></a> Ubuntu20.10ä¸‹ä½¿ç”¨podman</h1><p>Unbuntu20.10è‡ªå¸¦çš„æºå·²ç»å®Œæ•´æ”¯æŒpodmanï¼Œè€Œä¸”å®‰è£…ååˆ†ç®€å•ï¼š<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>$</span></span><span class="z-meta z-function-call z-arguments z-shell"> apt install<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>y</span>  podman</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">...</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">The</span></span><span class="z-meta z-function-call z-arguments z-shell"> following additional packages will be installed:</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">buildah</span></span><span class="z-meta z-function-call z-arguments z-shell"> conmon containernetworking-plugins crun fuse-overlayfs fuse3</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">golang-github-containers-common</span></span><span class="z-meta z-function-call z-arguments z-shell"> libavahi-glib1 libfuse3-3 libostree-1-1 libslirp0 libyajl2</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">slirp4netns</span></span><span class="z-meta z-function-call z-arguments z-shell"> tini uidmap</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Suggested</span></span><span class="z-meta z-function-call z-arguments z-shell"> packages:</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">containers-storage</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">The</span></span><span class="z-meta z-function-call z-arguments z-shell"> following packages will be REMOVED:</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">fuse</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">The</span></span><span class="z-meta z-function-call z-arguments z-shell"> following NEW packages will be installed:</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">buildah</span></span><span class="z-meta z-function-call z-arguments z-shell"> conmon containernetworking-plugins crun fuse-overlayfs fuse3</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">golang-github-containers-common</span></span><span class="z-meta z-function-call z-arguments z-shell"> libavahi-glib1 libfuse3-3 libostree-1-1 libslirp0 libyajl2</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">podman</span></span><span class="z-meta z-function-call z-arguments z-shell"> slirp4netns tini uidmap</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">0</span></span><span class="z-meta z-function-call z-arguments z-shell"> upgraded, 16 newly installed, 1 to remove and 0 not upgraded.</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Need</span></span><span class="z-meta z-function-call z-arguments z-shell"> to get 27.4 MB of archives.</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">After</span></span><span class="z-meta z-function-call z-arguments z-shell"> this operation, 125 MB of additional disk space will be used.</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Do</span></span><span class="z-meta z-function-call z-arguments z-shell"> you want to continue<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span> <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>Y/n<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span></span>
</span><span class="z-source z-shell z-bash">
</span></code></pre><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£…podmanã€crunã€buildahå’Œslirp4netnsã€‚ä½†æ˜¯ï¼Œæ¥ä¸‹æ¥æœ‰ä¸¤ä¸ªå°å°çš„é—®é¢˜éœ€è¦è§£å†³ã€‚<h2 id=mei-you-yun-xing-shi><a aria-label="Anchor link for: mei-you-yun-xing-shi" class="header-anchor no-hover-padding" href=#mei-you-yun-xing-shi><span aria-hidden=true class=link-icon></span></a> æ²¡æœ‰è¿è¡Œæ—¶ï¼Ÿ</h2><p>å®‰è£…å®Œæ¯•åï¼Œç›´æ¥æ‰§è¡Œpodman infoï¼Œä¼šæç¤ºå¦‚ä¸‹ï¼š<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>$</span></span><span class="z-meta z-function-call z-arguments z-shell"> podman info</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Error:</span></span><span class="z-meta z-function-call z-arguments z-shell"> default OCI runtime <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>runc<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> not found: invalid argument</span>
</span></code></pre><p>å¤§æ¦‚æ„æ€å°±æ˜¯æ²¡æœ‰æ‰¾åˆ°é»˜è®¤çš„å®¹å™¨è¿è¡Œæ—¶runcã€‚<p>æœç´¢çš„ç»“æœï¼Œå¤§å¤šæ•°éƒ½æ˜¯<a href=https://github.com/containers/podman/issues/6072>å»ºè®®ç›´æ¥å®‰è£…runc</a>ã€‚ä½†æ˜¯å¦‚æœæ‚¨é˜…è¯»çš„æ—¶å€™å¾ˆä»”ç»†ï¼Œå°±ä¼šå‘ç°ä¸Šé¢å®‰è£…podmanæ—¶ï¼Œå·²ç»å®‰è£…äº†ä¸€ä¸ªå«crunçš„ä¸œè¥¿ã€‚å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå’Œruncæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿåœ¨<a href=https://www.redhat.com/sysadmin/introduction-crun>è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆï¼Œå¤§æ„å°±æ˜¯äºŒè€…éƒ½æ˜¯å®¹å™¨è¿è¡Œæ—¶ï¼Œåªä¸è¿‡crunæ›´å°ï¼Œæ›´å…ˆè¿›ï¼Œæ–‡ç« ä½œè€…å»ºè®®æ˜¯ç”¨crunã€‚æ—¢ç„¶ubuntu20.10é»˜è®¤å®‰è£…çš„æ˜¯crunï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥ç ”ç©¶ä¸€ä¸‹ï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´podmanæ²¡èƒ½è¯†åˆ«å®ƒå‘¢ï¼Ÿ<p>æˆ‘ä»¬ç»§ç»­æ‰¾ï¼Œå‘ç°äº†<a href=https://serverfault.com/questions/989509/how-can-i-change-the-oci-runtime-in-podman>è¿™ä¸ª</a>ã€‚ç»è¿‡éªŒè¯ï¼Œæœ‰ä¸¤ä¸ªé…ç½®æ–‡ä»¶éƒ½èƒ½è®¾ç½®podmançš„runtimeï¼Œä½¿ç”¨å…¶ä¸­ä¹‹ä¸€å³å¯ã€‚æ¨èä½¿ç”¨containers.confï¼Œå› ä¸ºubuntu20.10é‡Œé¢æˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ°libpod.confï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æ—§ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶åã€‚å®ƒä»¬åˆ†åˆ«æ˜¯<p>libpod.conf<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">runtime</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>crun<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span></span>
</span></code></pre><p>å’Œcontainers.conf<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[engine]</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">runtime</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>crun<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span></span>
</span></code></pre><p>/etc/container/ç›®å½•ä¸‹é»˜è®¤å­˜åœ¨containers.confæ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹å®ƒï¼Œé’ˆå¯¹æ‰€æœ‰ç”¨æˆ·èµ·ä½œç”¨ï¼Œæˆ–æ˜¯æ”¾åœ¨$HOME/.config/containersç›®å½•ä¸‹ï¼Œåªé’ˆå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆã€‚å»ºè®®åè€…ï¼Œæ¯•ç«Ÿpodmançš„ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯ä¸éœ€è¦rootæƒé™æ‰§è¡Œã€‚<h2 id=wei-shen-me-cgrouphuan-shi-v1><a aria-label="Anchor link for: wei-shen-me-cgrouphuan-shi-v1" class="header-anchor no-hover-padding" href=#wei-shen-me-cgrouphuan-shi-v1><span aria-hidden=true class=link-icon></span></a> ä¸ºä»€ä¹ˆCGROUPè¿˜æ˜¯V1ï¼Ÿ</h2><p>æ‰§è¡Œpodman infoå‘½ä»¤ï¼Œç°åœ¨å¯ä»¥æ­£å¸¸å¾—åˆ°ä¿¡æ¯äº†ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸‹é¢çš„è¾“å‡ºå†…å®¹é‡Œé¢ï¼Œå†™æ˜äº†cgroupVersionè¿˜æ˜¯v1ã€‚æ˜æ˜crunçš„ä¼˜åŠ¿å°±æ˜¯æ”¯æŒv2å•Šã€‚<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">:<span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>$</span></span><span class="z-meta z-function-call z-arguments z-shell"> podman info</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">....</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">host:</span></span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arch:</span></span><span class="z-meta z-function-call z-arguments z-shell"> amd64</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">buildahVersion:</span></span><span class="z-meta z-function-call z-arguments z-shell"> 1.15.2</span>
</span><span class="z-source z-shell z-bash">  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cgroupVersion:</span></span><span class="z-meta z-function-call z-arguments z-shell"> v1</span>
</span><span class="z-source z-shell z-bash">
</span></code></pre><p>é€šè¿‡mountå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç³»ç»Ÿé»˜è®¤éƒ½æŒ‚è½½äº†v1å’Œv2ç‰ˆæœ¬<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>$</span></span><span class="z-meta z-function-call z-arguments z-shell"> mount</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">...</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cgroup2</span></span><span class="z-meta z-function-call z-arguments z-shell"> on /sys/fs/cgroup/unified type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cgroup</span></span><span class="z-meta z-function-call z-arguments z-shell"> on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,xattr,name=systemd</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">...</span></span>
</span></code></pre><p>æ—¢ç„¶æ”¯æŒæ–°ç‰ˆäº†ï¼Œé‚£ä¹ˆå°±å»æ‰v1å§ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼Œå‚è€ƒåœ¨[<a href=https://mbien.dev/blog/tags/debian>è¿™é‡Œ</a>]:<ul><li><p>ç¼–è¾‘/etc/default/grub</p><li><p>æ·»åŠ systemd.unified_cgroup_hierarchy=1åˆ° GRUB_CMDLINE_LINUX_DEFAULTé‡Œé¢ï¼Œç”¨ç©ºæ ¼ä¸åŸæœ‰çš„å€¼éš”å¼€</p><li><p>sudo grub-mkconfig -o /boot/grub/grub.cfg</p><li><p>é‡å¯ï¼ŒmountæŸ¥çœ‹è¾“å‡ºå¦‚ä¸‹ï¼š</p> <pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cgroup2</span></span><span class="z-meta z-function-call z-arguments z-shell"> on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash">
</span></code></pre></ul><p>è‡³æ­¤å®‰è£…å®Œæ¯•ï¼Œpodman infoè¾“å‡ºå¦‚ä¸‹<pre class=z-code><code><span class="z-text z-plain">:~$ podman info
</span><span class="z-text z-plain">host:
</span><span class="z-text z-plain">  arch: amd64
</span><span class="z-text z-plain">  buildahVersion: 1.15.2
</span><span class="z-text z-plain">  cgroupVersion: v2
</span><span class="z-text z-plain">  conmon:
</span><span class="z-text z-plain">    package: 'conmon: /usr/libexec/podman/conmon'
</span><span class="z-text z-plain">    path: /usr/libexec/podman/conmon
</span><span class="z-text z-plain">    version: 'conmon version 2.0.20, commit: unknown'
</span><span class="z-text z-plain">  cpus: 4
</span><span class="z-text z-plain">  distribution:
</span><span class="z-text z-plain">    distribution: ubuntu
</span><span class="z-text z-plain">    version: "20.10"
</span><span class="z-text z-plain">...
</span><span class="z-text z-plain">ociRuntime:
</span><span class="z-text z-plain">    name: crun
</span><span class="z-text z-plain">    package: 'crun: /usr/bin/crun'
</span><span class="z-text z-plain">    path: /usr/bin/crun
</span><span class="z-text z-plain">    version: |-
</span><span class="z-text z-plain">      crun version 0.14.1
</span><span class="z-text z-plain">      commit: 598ea5e192ca12d4f6378217d3ab1415efeddefa
</span><span class="z-text z-plain">      spec: 1.0.0
</span><span class="z-text z-plain">      +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +YAJL
</span><span class="z-text z-plain">  os: linux
</span><span class="z-text z-plain">  remoteSocket:
</span><span class="z-text z-plain">    exists: true
</span><span class="z-text z-plain">    path: /run/user/1000/podman/podman.sock
</span><span class="z-text z-plain">  rootless: true
</span><span class="z-text z-plain">  slirp4netns:
</span><span class="z-text z-plain">    executable: /usr/bin/slirp4netns
</span><span class="z-text z-plain">    package: 'slirp4netns: /usr/bin/slirp4netns'
</span><span class="z-text z-plain">    version: |-
</span><span class="z-text z-plain">      slirp4netns version 1.0.1
</span><span class="z-text z-plain">      commit: 6a7b16babc95b6a3056b33fb45b74a6f62262dd4
</span><span class="z-text z-plain">      libslirp: 4.3.1
</span><span class="z-text z-plain">...
</span></code></pre><h2 id=ti-shi-wei-zhao-dao-initde-er-jin-zhi-cheng-xu><a aria-label="Anchor link for: ti-shi-wei-zhao-dao-initde-er-jin-zhi-cheng-xu" class="header-anchor no-hover-padding" href=#ti-shi-wei-zhao-dao-initde-er-jin-zhi-cheng-xu><span aria-hidden=true class=link-icon></span></a> æç¤ºæœªæ‰¾åˆ°INITçš„äºŒè¿›åˆ¶ç¨‹åº</h2><p>è¿™ä¸ªæ˜¯åœ¨gentooä¸Šå‘ç°çš„é—®é¢˜ï¼Œä¸€å¹¶è´´åœ¨è¿™é‡Œå§ã€‚ä¸ªäººçš„ç†è§£æ˜¯è¿™é‡Œå¯ä»¥æŒ‡å®šåˆå§‹åŒ–å®¹å™¨æ—¶è¦æ‰§è¡Œçš„ç¨‹åºã€‚ä»¥å‰åº”è¯¥æ˜¯è°ƒç”¨åˆå§‹åŒ–è„šæœ¬ï¼Œç°åœ¨å®¹å™¨åˆå§‹åŒ–å·²ç»æ ‡å‡†åŒ–äº†(conmonåŒ…?ä»…ä¸ªäººçŒœæµ‹)ã€‚äºæ˜¯è¿™å°±ç›¸å½“äºä¸€ä¸ªhookï¼Œå¯ä»¥ä¾›ç”¨æˆ·æ’å…¥è‡ªå·±çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚ä¸ä½¿ç”¨å®ƒçš„è¯ç›´æ¥è®¾ç½®ä¸ºfalseå³å¯ã€‚<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">$</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> podman run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>init</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>ti</span> cp /sbin/init</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Error:</span></span><span class="z-meta z-function-call z-arguments z-shell"> container-init binary not found on the host: stat /usr/libexec/podman/catatonit: no such file or directory</span>
</span></code></pre><p>å‚è€ƒ[<a href=https://unix.stackexchange.com/questions/619212/podman-run-with-init-gives-me-error-container-init-binary-not-found-on-the-h>è¿™é‡Œ</a>], è¯¥é—®é¢˜æˆ‘ä¹Ÿç»™äº†è‡ªå·±çš„ç­”æ¡ˆï¼š ä¿®æ”¹containerçš„é…ç½®ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹å¯ä»¥ä¿®æ”¹:<p>/etc/containers/containers.conf(å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆ),<p>æˆ–è€…æ˜¯: ${HOME}/.config/containers/containers.conf(ä»…å¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆ)<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[containers]</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">init</span></span><span class="z-meta z-function-call z-arguments z-shell"> = false</span>
</span></code></pre></section><nav class=article-navigation><div><a aria-label="<<<" aria-describedby=left_title href=https://blog.windeye.top/blog/aboutgentoolinux/><span class=arrow>â†</span>Â <<<</a><p aria-hidden=true id=left_title>å…³äºGentoo Linuxçš„ä¸€äº›é—²è¯</div><div><a aria-label=">>>" aria-describedby=right_title href=https://blog.windeye.top/blog/markdownsyntax/>>>>Â <span class=arrow>â†’</span></a><p aria-hidden=true id=right_title>Markdown Syntax Guide</div></nav><div class=comments data-category=Announcements data-category-id=DIC_kwDOK70hhM4Cb4Qn data-dark-theme=noborder_dark data-input-position=top data-lang=zh-Hans data-lazy-loading=true data-light-theme=noborder_light data-mapping=specific data-reactions-enabled=1 data-repo=ziyouwa/blog-commit data-repo-id=R_kgDOK70hhA data-strict=1 data-term=podmanonubuntu id=comments><script async src=https://blog.windeye.top/js/giscus.min.js></script><noscript>You need JavaScript to view the comments.</noscript></div></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=overlay for=toc-toggle></label><label class=button for=toc-toggle id=toc-button title=åˆ‡æ¢ç›®å½•><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://blog.windeye.top/blog/podmanonubuntu/#ubuntu20-10xia-shi-yong-podman>Ubuntu20.10ä¸‹ä½¿ç”¨podman</a> <ul><li><a href=https://blog.windeye.top/blog/podmanonubuntu/#mei-you-yun-xing-shi>æ²¡æœ‰è¿è¡Œæ—¶ï¼Ÿ</a><li><a href=https://blog.windeye.top/blog/podmanonubuntu/#wei-shen-me-cgrouphuan-shi-v1>ä¸ºä»€ä¹ˆCGROUPè¿˜æ˜¯V1ï¼Ÿ</a><li><a href=https://blog.windeye.top/blog/podmanonubuntu/#ti-shi-wei-zhao-dao-initde-er-jin-zhi-cheng-xu>æç¤ºæœªæ‰¾åˆ°INITçš„äºŒè¿›åˆ¶ç¨‹åº</a></ul></ul></div></div></div><a class=no-hover-padding href=#comments id=comments-button title=è½¬åˆ°è¯„è®ºåŒº> <svg viewbox="0 0 20 20" fill=currentColor><path d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule=evenodd fill-rule=evenodd /></svg> </a><a class=no-hover-padding href=# id=top-button title=è¿”å›é¡µé¢é¡¶éƒ¨> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> å·²å¤åˆ¶! </span><span class=hidden id=copy-init> å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ </span><script defer src=https://blog.windeye.top/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://blog.windeye.top/atom.xml> <img alt=feed src=https://blog.windeye.top/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email="eWpzc3NAaG90bWFpbC5jb20=" href=#><img alt=email src=https://blog.windeye.top/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/ziyouwa/> <img alt=github src=https://blog.windeye.top/social_icons/github.svg title=github> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://blog.windeye.top/about/> å…³äº </a><li><a class="nav-links no-hover-padding" href=https://blog.windeye.top/privacy/> éšç§æ”¿ç­– </a></ul> </small></nav><div class=credits><small> ç½‘ç«™åŸºäº <a href=https://www.getzola.org>Zola</a> å’Œ <a href=https://github.com/welpo/tabi>tabi</a> </small></div></section><script async src=https://blog.windeye.top/js/decodeMail.min.js></script></footer>